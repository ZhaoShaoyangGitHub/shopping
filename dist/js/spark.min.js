jQuery.easing.jswing = jQuery.easing.swing,
jQuery.extend(jQuery.easing, {
    def: "easeOutQuad",
    swing: function(t, e, i, s, n) {
        return jQuery.easing[jQuery.easing.def](t, e, i, s, n)
    },
    easeInQuad: function(t, e, i, s, n) {
        return s * (e /= n) * e + i
    },
    easeOutQuad: function(t, e, i, s, n) {
        return -s * (e /= n) * (e - 2) + i
    },
    easeInOutQuad: function(t, e, i, s, n) {
        return (e /= n / 2) < 1 ? s / 2 * e * e + i : -s / 2 * (--e * (e - 2) - 1) + i
    },
    easeInCubic: function(t, e, i, s, n) {
        return s * (e /= n) * e * e + i
    },
    easeOutCubic: function(t, e, i, s, n) {
        return s * ((e = e / n - 1) * e * e + 1) + i
    },
    easeInOutCubic: function(t, e, i, s, n) {
        return (e /= n / 2) < 1 ? s / 2 * e * e * e + i : s / 2 * ((e -= 2) * e * e + 2) + i
    },
    easeInQuart: function(t, e, i, s, n) {
        return s * (e /= n) * e * e * e + i
    },
    easeOutQuart: function(t, e, i, s, n) {
        return -s * ((e = e / n - 1) * e * e * e - 1) + i
    },
    easeInOutQuart: function(t, e, i, s, n) {
        return (e /= n / 2) < 1 ? s / 2 * e * e * e * e + i : -s / 2 * ((e -= 2) * e * e * e - 2) + i
    },
    easeInQuint: function(t, e, i, s, n) {
        return s * (e /= n) * e * e * e * e + i
    },
    easeOutQuint: function(t, e, i, s, n) {
        return s * ((e = e / n - 1) * e * e * e * e + 1) + i
    },
    easeInOutQuint: function(t, e, i, s, n) {
        return (e /= n / 2) < 1 ? s / 2 * e * e * e * e * e + i : s / 2 * ((e -= 2) * e * e * e * e + 2) + i
    },
    easeInSine: function(t, e, i, s, n) {
        return -s * Math.cos(e / n * (Math.PI / 2)) + s + i
    },
    easeOutSine: function(t, e, i, s, n) {
        return s * Math.sin(e / n * (Math.PI / 2)) + i
    },
    easeInOutSine: function(t, e, i, s, n) {
        return -s / 2 * (Math.cos(Math.PI * e / n) - 1) + i
    },
    easeInExpo: function(t, e, i, s, n) {
        return 0 == e ? i : s * Math.pow(2, 10 * (e / n - 1)) + i
    },
    easeOutExpo: function(t, e, i, s, n) {
        return e == n ? i + s : s * (-Math.pow(2, -10 * e / n) + 1) + i
    },
    easeInOutExpo: function(t, e, i, s, n) {
        return 0 == e ? i : e == n ? i + s : (e /= n / 2) < 1 ? s / 2 * Math.pow(2, 10 * (e - 1)) + i : s / 2 * (-Math.pow(2, -10 * --e) + 2) + i
    },
    easeInCirc: function(t, e, i, s, n) {
        return -s * (Math.sqrt(1 - (e /= n) * e) - 1) + i
    },
    easeOutCirc: function(t, e, i, s, n) {
        return s * Math.sqrt(1 - (e = e / n - 1) * e) + i
    },
    easeInOutCirc: function(t, e, i, s, n) {
        return (e /= n / 2) < 1 ? -s / 2 * (Math.sqrt(1 - e * e) - 1) + i : s / 2 * (Math.sqrt(1 - (e -= 2) * e) + 1) + i
    },
    easeInElastic: function(t, e, i, s, n) {
        var o = 1.70158
          , a = 0
          , r = s;
        if (0 == e)
            return i;
        if (1 == (e /= n))
            return i + s;
        if (a || (a = .3 * n),
        r < Math.abs(s)) {
            r = s;
            var o = a / 4
        } else
            var o = a / (2 * Math.PI) * Math.asin(s / r);
        return -(r * Math.pow(2, 10 * (e -= 1)) * Math.sin((e * n - o) * (2 * Math.PI) / a)) + i
    },
    easeOutElastic: function(t, e, i, s, n) {
        var o = 1.70158
          , a = 0
          , r = s;
        if (0 == e)
            return i;
        if (1 == (e /= n))
            return i + s;
        if (a || (a = .3 * n),
        r < Math.abs(s)) {
            r = s;
            var o = a / 4
        } else
            var o = a / (2 * Math.PI) * Math.asin(s / r);
        return r * Math.pow(2, -10 * e) * Math.sin((e * n - o) * (2 * Math.PI) / a) + s + i
    },
    easeInOutElastic: function(t, e, i, s, n) {
        var o = 1.70158
          , a = 0
          , r = s;
        if (0 == e)
            return i;
        if (2 == (e /= n / 2))
            return i + s;
        if (a || (a = n * (.3 * 1.5)),
        r < Math.abs(s)) {
            r = s;
            var o = a / 4
        } else
            var o = a / (2 * Math.PI) * Math.asin(s / r);
        return e < 1 ? -.5 * (r * Math.pow(2, 10 * (e -= 1)) * Math.sin((e * n - o) * (2 * Math.PI) / a)) + i : r * Math.pow(2, -10 * (e -= 1)) * Math.sin((e * n - o) * (2 * Math.PI) / a) * .5 + s + i
    },
    easeInBack: function(t, e, i, s, n, o) {
        return void 0 == o && (o = 1.70158),
        s * (e /= n) * e * ((o + 1) * e - o) + i
    },
    easeOutBack: function(t, e, i, s, n, o) {
        return void 0 == o && (o = 1.70158),
        s * ((e = e / n - 1) * e * ((o + 1) * e + o) + 1) + i
    },
    easeInOutBack: function(t, e, i, s, n, o) {
        return void 0 == o && (o = 1.70158),
        (e /= n / 2) < 1 ? s / 2 * (e * e * (((o *= 1.525) + 1) * e - o)) + i : s / 2 * ((e -= 2) * e * (((o *= 1.525) + 1) * e + o) + 2) + i
    },
    easeInBounce: function(t, e, i, s, n) {
        return s - jQuery.easing.easeOutBounce(t, n - e, 0, s, n) + i
    },
    easeOutBounce: function(t, e, i, s, n) {
        return (e /= n) < 1 / 2.75 ? s * (7.5625 * e * e) + i : e < 2 / 2.75 ? s * (7.5625 * (e -= 1.5 / 2.75) * e + .75) + i : e < 2.5 / 2.75 ? s * (7.5625 * (e -= 2.25 / 2.75) * e + .9375) + i : s * (7.5625 * (e -= 2.625 / 2.75) * e + .984375) + i
    },
    easeInOutBounce: function(t, e, i, s, n) {
        return e < n / 2 ? .5 * jQuery.easing.easeInBounce(t, 2 * e, 0, s, n) + i : .5 * jQuery.easing.easeOutBounce(t, 2 * e - n, 0, s, n) + .5 * s + i
    }
}),
$(function() {
    var t = {
        isVideoPlaying: !1,
        animationDone: !0,
        animationQueue: [!0, !0, !0, !0],
        is_iPad: !1,
        init: function() {
            this.is_iPad = e.is_iPad(),
            this.s1VideoPlay(),
            this.animate()
        },
        adjustWebFont: function() {
            var t = window.navigator.userAgent.toLowerCase();
            (t.indexOf("se 2.x") > 0 || t.indexOf("firefox") > 0) && $(".web-font").css("font-family", '"Open Sans", "Helvetica Neue", "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi Micro Hei", Arial, sans-serif')
        },
        s1VideoPlay: function() {
            var t = this
              , i = $(".mask-item")
              , s = $(".video-cover-item")
              , n = $(".video-item");
            i.bind("mouseenter", function() {
                $(this).addClass("active");
                var e = $(this).data("target")
                  , i = n.eq(e)
                  , o = 500;
                if (t.isVideoPlaying ? o = 0 : 0 !== e && 3 !== e || (o = 600),
                t.animationDone = t.animationQueue[0] && t.animationQueue[1] && t.animationQueue[2] && t.animationQueue[3],
                t.animationDone) {
                    t.animationDone = !1;
                    for (var a = s.length - 1; a >= 0; a--)
                        t.animationQueue[a] = !1;
                    s.each(function(i) {
                        i === e ? ($(this).find(".section-bg").css("transition", "opacity .2s ease-in-out"),
                        $(this).find(".section-bg").css("opacity", "0"),
                        $(this).animate({
                            width: "100%",
                            opacity: 0
                        }, o, "easeInOutQuad", function() {
                            $(this).find(".section-bg").css("transition", ""),
                            $(this).css("opacity", "0"),
                            t.animationQueue[i] = !0
                        })) : $(this).animate({
                            width: "0%",
                            opacity: 0
                        }, o, "easeInOutQuad", function() {
                            $(this).css("opacity", "0"),
                            t.animationQueue[i] = !0
                        })
                    })
                }
                i.animate({
                    opacity: 1
                }, 500),
                i.css("z-index", 4);
                var r = i.find(".video-bg").find("video")
                  , c = r.get(0).currentTime > 0 && !r.get(0).paused && !r.get(0).ended && r.get(0).readyState > 2;
                c || r.trigger("play"),
                t.isVideoPlaying = !0
            }),
            i.bind("mouseleave", function() {
                var t = $(this).data("target");
                $(this).removeClass("active");
                var e = n.eq(t);
                e.find(".video-bg").find("video").trigger("pause"),
                e.find(".video-bg").find("video")[0].currentTime = 0,
                e.css("z-index", ""),
                e.animate({
                    opacity: 0
                }, 0)
            }),
            $(".mask-list").bind("mouseleave", function() {
                var e = setInterval(function() {
                    t.animationDone = t.animationQueue[0] && t.animationQueue[1] && t.animationQueue[2] && t.animationQueue[3],
                    t.animationDone && (s.each(function() {
                        $(this).css("width", "33.33%"),
                        $(this).css("opacity", "1"),
                        $(this).find(".section-bg").css("opacity", "1")
                    }),
                    t.isVideoPlaying = !1,
                    clearInterval(e))
                }, 100)
            }),
            i.bind("touchstart", function(t) {
                t.preventDefault(),
                i.removeClass("active"),
                $(this).addClass("active"),
                i.css("border-right", "1px solid rgba(112, 116, 115, 0.7)"),
                i.find(".mask").css("background", "rgba(0,0,0,0.4)"),
                i.find(".text").css("opacity", "0"),
                i.find(".top-text").css("opacity", "0.5"),
                $(this).find(".top-text").css("opacity", "0"),
                s.hide();
                var e = $(this).data("target");
                n.each(function(t) {
                    t === e ? ($(this).css("z-index", "4"),
                    $(this).css("opacity", "1"),
                    $(this).find(".video-bg").find("video")[0].currentTime = 0,
                    $(this).find(".video-bg").find("video").trigger("play")) : ($(this).css("z-index", ""),
                    $(this).css("opacity", ""))
                })
            }),
            $(window).bind("touchmove", function() {
                e.checkVisible($(".spark-s1")) || (i.removeClass("active"),
                i.css("border-right", ""),
                i.find(".mask").css("background", ""),
                i.find(".top-text").css("opacity", ""),
                i.find(".text").css("opacity", ""),
                n.find(".video-bg video").trigger("pause"),
                n.css("z-index", ""),
                n.css("opacity", ""),
                s.show())
            })
        },
        s3VideoBgPlay: function() {
            var t = $(".spark-s3 .section-abstract video")
              , i = !1;
            $(window).on("scroll", function() {
                e.checkVisible(t) ? i || (i = !0,
                isNaN(t[0].duration) || (t[0].currentTime = 0,
                t.trigger("play"))) : isNaN(t[0].duration) || (t[0].currentTime = 0,
                t.trigger("pause"),
                i = !1)
            })
        },
        s8Swiper: function() {
            var t = new Swiper("#s8-swiper-container",{
                loop: !0,
                initialSlide: 1,
                loopedSlides: 6,
                keyboardControl: !0,
                centeredSlides: !0,
                observer: !0,
                observeParents: !0,
                pagination: "#s8-swiper-container .swiper-pagination",
                paginationClickable: !0,
                prevButton: "#s8-swiper-container .swiper-btn-prev",
                nextButton: "#s8-swiper-container .swiper-btn-next",
                slidesPerView: "auto",
                spaceBetween: 150,
                speed: 500
            })
              , e = new Swiper("#s8-modal-swiper-container",{
                loop: !0,
                centeredSlides: !0,
                observer: !0,
                observeParents: !0,
                keyboardControl: !0,
                pagination: "#s8-modal-swiper-container .swiper-pagination",
                paginationClickable: !0,
                prevButton: "#s8-modal-swiper-container .swiper-btn-prev",
                nextButton: "#s8-modal-swiper-container .swiper-btn-next",
                speed: 500
            })
              , i = $(".modal-container");
            $("#s8-swiper-container .swiper-slide").click(function() {
                i.fadeIn(500),
                e.slideTo(t.activeIndex - 5, 0)
            }),
            $(".modal-container .icon-close").click(function() {
                t.slideTo(e.activeIndex + 5, 0),
                i.fadeOut(500)
            })
        },
        animate: function() {
            $(".animate").each(function() {
                e.checkVisible($(this)) && $(this).addClass("animated")
            }),
            $(window).on("scroll", function() {
                $(".animate").each(function() {
                    e.checkVisible($(this)) && $(this).addClass("animated")
                })
            })
        }
    }
      , e = {
        checkVisible: function(t) {
            var e = $(window).height()
              , i = $(window).scrollTop()
              , s = i + e
              , n = t.offset().top + t.height() / 2;
            return offsetBottom = t.offset().top + t.height(),
            offsetBottom > i && n < s
        },
        is_iPad: function() {
            var t = navigator.userAgent.toLowerCase();
            return "ipad" == t.match(/iPad/i)
        }
    };
    t.init()
})
